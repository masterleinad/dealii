CMAKE_MINIMUM_REQUIRED(VERSION 2.8.12)

IF(NOT DEAL_II_LIBRARY_RELDIR)
  MESSAGE(FATAL_ERROR "${DEAL_II_PYTON_RELDIR}")
ENDIF()

FILE(GLOB _tests "${CMAKE_CURRENT_SOURCE_DIR}/*.py")
FOREACH(_test_path ${_tests})
 GET_FILENAME_COMPONENT(_test ${_test_path} NAME_WE)
 ADD_TEST(NAME python-bindings/${_test} COMMAND ${PYTHON_EXECUTABLE} ${_test_path})
 SET_TESTS_PROPERTIES(python-bindings/${_test} PROPERTIES ENVIRONMENT
   PYTHONPATH=${deal.II_BINARY_DIR}/${DEAL_II_PYTHON_RELDIR}/../:$ENV{PYTHONPATH}
   )
ENDFOREACH()

